/*
 * PgWorkData.h
 *
 *  Created on: 2015年3月20日
 *      Author: liming
 */

#ifndef PGWORKDATA_H_
#define PGWORKDATA_H_

#include <node/node.h>
#include <node/v8.h>
#include "PgConnectionWrap.h"

using namespace v8;

class PgWorkData {
public:
	PgWorkData();
	~PgWorkData();

	Persistent<Function> callback;
	bool error;
	VsString* errorMsg;
private:

};

/**
 *建立数据库连接时使用的数据模型
 */
class PgConnBuildWorkData: public PgWorkData {
public:
	PgConnBuildWorkData();
	~PgConnBuildWorkData();

	VsString* code;	//数据库的返回码PQstatus(conn)
	PgConnectionWrap* conn;
private:
};

/**
 *执行命令时使用的数据模型
 */
class PgConnExecuteWorkData: public PgWorkData {
public:
	PgConnExecuteWorkData();
	~PgConnExecuteWorkData();

	VsString* cmd;	//数据库的返回码PQstatus(conn)
	PgConnectionWrap* conn;
	PgResult* pr;
private:
};

#endif /* PGWORKDATA_H_ */
