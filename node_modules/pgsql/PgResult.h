/*
 * PgResult.h
 *
 *  Created on: 2015年3月20日
 *      Author: liming
 */

#ifndef PGRESULT_H_
#define PGRESULT_H_

#include <libpq-fe.h>
#include <node/v8.h>

using namespace v8;

class PgResult {
public:
	PgResult(PGresult *res);
	~PgResult();
	bool available();
	Handle<Object> toNodeResult(Isolate* isolate);
	Handle<Value> getValue(Isolate* isolate, const char* strValue, Oid type);
private:
	PGresult *res;
};

#endif /* PGRESULT_H_ */
