/*
 * NodeUtil.cc
 *
 *  Created on: 2015年3月5日
 *      Author: liming
 */

#include "VsNodeUtil.h"

using namespace v8;

VsString* vs_node_util_arg_to_string(Local<Value> arg)
{
	Local<String> ipStr = arg->ToString();
	int length = ipStr->Utf8Length();
	//ip
	VsString* str = vs_string_init(NULL, -1, length + 1);
	ipStr->WriteUtf8(str->pt);
	str->length = length;
	*(str->pt + str->length) = '\0';
	return str;
}

