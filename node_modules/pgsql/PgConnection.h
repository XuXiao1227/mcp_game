/*
 * PgConnection.h
 *
 *  Created on: 2015年3月19日
 *      Author: liming
 */

#ifndef PGCONNECTION_H_
#define PGCONNECTION_H_

#include <libpq-fe.h>

#include "VsString.h"
#include "PgResult.h"

class PgConnection {
public:
	PgConnection(VsString* config);
	~PgConnection();
	bool availabe();
	PgResult* execute(VsString* cmd);
	const char* lastError();
	PGconn *conn;

private:
	VsString* config;
	void init();
};

#endif /* PGCONNECTION_H_ */
