var async = require('async');

var esut = require('easy_util');
var log = esut.log;
var assert = esut.assert;

var config = require('config');
var ec = config.ec;

var validateFactory = require('./ValidateFactory.js');

async.waterfall([
    function(cb){ //正常投注
        validateFactory.do({gameCode:'G01', number:'1|2|3|4'}, function(err, data){
            assert.eq(err, null);
            assert.eq(1, data.count);
            cb(null);
        });
    },
    function(cb){ //校验超过范围
        validateFactory.do({gameCode:'G01', number:'1|2|3|0'}, function(err, data){
            assert.eq(err, ec[2000]);
            assert.eq(data, null);
            cb(null);
        });
    },
    function(cb)
    {
        cb(null);
    }
], function (err, result) {
    console.log("测试通过");
});
